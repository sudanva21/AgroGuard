# üåç Translation Feature Guide

## Overview
The AgroGuard AI website now supports **automatic translation** into 10+ Indian regional languages using a free translation API. Every single word on the website, including AI-generated content, is automatically translated when the user selects a language.

## Supported Languages
- English (default)
- ‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)
- ‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)
- ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)
- ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)
- ‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)
- ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)
- ‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)
- ‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)
- ‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)

## How It Works

### Translation API
- Uses **MyMemory Translation API** (free tier - 1000 words/day)
- No API key required
- Automatic caching to minimize API calls
- Fallback to original text if translation fails

### For Users
1. Click the language selector in the header (globe icon)
2. Select your preferred language
3. The entire website automatically translates
4. Language preference is saved in browser

### For Developers

#### 1. Simple Text Translation
Use the `<TranslatedText>` component to wrap any text:

```jsx
import TranslatedText from '../components/TranslatedText'

function MyComponent() {
  return (
    <div>
      <h1><TranslatedText>Welcome to AgroGuard AI</TranslatedText></h1>
      <p><TranslatedText>Protect your crops with AI</TranslatedText></p>
    </div>
  )
}
```

#### 2. Dynamic Content Translation
For arrays or objects that need translation:

```jsx
import { useLanguage } from '../contexts/LanguageContext'
import { useState, useEffect } from 'react'

function MyComponent() {
  const { translateObj, currentLangCode } = useLanguage()
  const [translatedData, setTranslatedData] = useState([])

  const originalData = [
    { title: "Disease Detection", description: "AI-powered analysis" },
    { title: "Treatment Guide", description: "Get recommendations" }
  ]

  useEffect(() => {
    const translateData = async () => {
      if (currentLangCode === 'en') {
        setTranslatedData(originalData)
        return
      }

      const translated = await Promise.all(
        originalData.map(async (item) => ({
          ...item,
          title: await translateObj({ text: item.title }).then(r => r.text),
          description: await translateObj({ text: item.description }).then(r => r.text)
        }))
      )

      setTranslatedData(translated)
    }

    translateData()
  }, [currentLangCode])

  return (
    <div>
      {translatedData.map((item, index) => (
        <div key={index}>
          <h3>{item.title}</h3>
          <p>{item.description}</p>
        </div>
      ))}
    </div>
  )
}
```

#### 3. AI-Generated Content Translation
For content generated by AI (like chatbot responses or disease detection results):

```jsx
import { useLanguage } from '../contexts/LanguageContext'

function ChatbotResponse({ aiResponse }) {
  const { translate } = useLanguage()
  const [translatedResponse, setTranslatedResponse] = useState('')

  useEffect(() => {
    translate(aiResponse).then(setTranslatedResponse)
  }, [aiResponse])

  return <div>{translatedResponse}</div>
}
```

#### 4. Batch Translation
For translating multiple texts at once:

```jsx
import { useLanguage } from '../contexts/LanguageContext'

function MyComponent() {
  const { translateMultiple } = useLanguage()

  const translateTexts = async () => {
    const texts = [
      "Welcome",
      "Get Started",
      "Learn More"
    ]

    const translated = await translateMultiple(texts)
    console.log(translated) // Array of translated texts
  }

  return <button onClick={translateTexts}>Translate</button>
}
```

## Translation Context API

### Available Hooks and Methods

```jsx
const {
  currentLanguage,      // Current language name (e.g., "‡§π‡§ø‡§Ç‡§¶‡•Ä")
  currentLangCode,      // Current language code (e.g., "hi")
  changeLanguage,       // Function to change language
  translate,            // Translate single text
  translateMultiple,    // Translate array of texts
  translateObj,         // Translate object recursively
  isTranslating        // Boolean indicating translation in progress
} = useLanguage()
```

## Performance Optimization

### Caching
- All translations are automatically cached
- Same text won't be translated twice
- Cache persists during session

### Rate Limiting
- Built-in delay between API calls (100ms)
- Prevents hitting API rate limits
- Smooth user experience

## Best Practices

1. **Wrap Static Text**: Always wrap user-facing text with `<TranslatedText>`
2. **Translate Dynamic Content**: Use `useEffect` with `currentLangCode` dependency
3. **Handle AI Responses**: Translate AI-generated content before displaying
4. **Avoid Over-Translation**: Don't translate:
   - Brand names (AgroGuard AI)
   - Technical terms that are universal
   - Numbers and dates (unless formatting is needed)

## Examples in Codebase

### Header Component
See `src/components/Header.jsx` for:
- Navigation links translation
- Button text translation
- Language selector implementation

### Home Page
See `src/pages/Home.jsx` for:
- Hero section translation
- Features array translation
- Stats translation
- Dynamic content handling

## Troubleshooting

### Translation Not Working?
1. Check browser console for errors
2. Verify internet connection (API requires network)
3. Check if daily API limit reached (1000 words/day)
4. Clear cache: `clearTranslationCache()`

### Slow Translation?
- First translation takes time (API call)
- Subsequent views use cache (instant)
- Consider pre-loading common translations

### API Limit Reached?
- Free tier: 1000 words/day
- Upgrade to paid tier if needed
- Or implement alternative translation service

## Future Enhancements

- [ ] Offline translation support
- [ ] Pre-load common translations
- [ ] Translation quality feedback
- [ ] Custom translation overrides
- [ ] Voice translation for accessibility

## Support

For issues or questions about the translation feature:
1. Check this guide
2. Review example implementations in codebase
3. Test with different languages
4. Check browser console for errors

---

**Note**: The translation feature uses a free API with daily limits. For production use with high traffic, consider upgrading to a paid translation service or implementing server-side caching.
